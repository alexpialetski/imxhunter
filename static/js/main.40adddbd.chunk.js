(this.webpackJsonpimxhunter=this.webpackJsonpimxhunter||[]).push([[0],{514:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(55),i=n.n(c),o=n(567),s=n(11),u=n(584),j=n(149),l=n(32),b=n(314),d=Object(b.a)({}),h=n(71),O=n(7),x=n(6),p=n(48),f=n(596),m=n(597),y=n(593),g=n(594),v=n(598),w=n(595),k=n(294),S=n.n(k),C=n(295),I=n.n(C),_=n(586),A=Object(x.a)(_.a,{shouldForwardProp:function(t){return"open"!==t&&"drawerWidth"!==t}})((function(t){var e=t.theme,n=t.open,a=t.drawerWidth;return Object(h.a)({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},n&&{marginLeft:a,width:"calc(100% - ".concat(a,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})})})),z=n(582),R=Object(x.a)(z.a,{shouldForwardProp:function(t){return"open"!==t&&"drawerWidth"!==t}})((function(t){var e,n=t.theme,a=t.open,r=t.drawerWidth;return{zIndex:n.zIndex.drawer,"& .MuiDrawer-paper":Object(h.a)((e={position:"relative",whiteSpace:"nowrap",width:r,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})},Object(O.a)(e,n.breakpoints.down("sm"),{position:"absolute",height:"100%",zIndex:n.zIndex.appBar}),Object(O.a)(e,"boxSizing","border-box"),e),!a&&Object(O.a)({overflowX:"hidden",transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),width:n.spacing(7)},n.breakpoints.up("sm"),{width:n.spacing(9)}))}})),W=Object(x.a)("div")((function(t){return{zIndex:t.theme.zIndex.drawer-1,width:"100vw",height:"100vh",position:"fixed",backgroundColor:"black",animation:"fadeIn 500ms ease",opacity:.2,"@keyframes fadeIn":{from:{opacity:0},to:{opacity:.2}}}})),B=n(588),F=n(590),G=n(591),L=n(592),T=n(291),P=n.n(T),D=n(292),M=n.n(D),E=n(589),N=n.p+"static/media/bg.21ea966e.png",U=n(2),K=new Map([[{collection:"bookgames",label:"Book games",Icon:Object(U.jsx)("img",{src:N,width:"32",alt:"Book games"})},[{path:"/bookgames/priceToRarity",text:"Deal hunter",Icon:Object(U.jsx)(P.a,{})},{path:"/bookgames/calculator",text:"Rarity calculator",Icon:Object(U.jsx)(M.a,{})}]]]),H=function(){var t=Object(l.g)(),e=Object(l.h)(),n=Object(a.useCallback)((function(e){return function(){t.push(e)}}),[t]),c=function(t){return e.pathname.includes(t)};return Object(U.jsx)(B.a,{children:Array.from(K.entries()).map((function(t){var e=Object(s.a)(t,2),a=e[0],i=e[1];return Object(U.jsxs)(r.a.Fragment,{children:[Object(U.jsx)(E.a,{children:a.Icon}),i.map((function(t){var e=t.Icon,a=t.text,r=t.path;return Object(U.jsxs)(F.a,{onClick:n(r),selected:c(r),children:[Object(U.jsx)(G.a,{children:e}),Object(U.jsx)(L.a,{primary:a})]},r)})),Object(U.jsx)(g.a,{})]},a.collection)}))})},q=Object(b.a)(),J=Object(x.a)("main")((function(t){var e=t.theme;return Object(O.a)({backgroundColor:"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto",display:"flex",flexDirection:"column"},e.breakpoints.down("sm"),{marginLeft:e.spacing(7),width:"calc(100% - ".concat(e.spacing(7),"px)")})})),X=Object(x.a)(W)((function(t){var e=t.theme;return Object(O.a)({},e.breakpoints.up("sm"),{display:"none"})})),Y=Object(x.a)(w.a)((function(){return{flexGrow:1,padding:"16px !important",maxWidth:"none !important"}})),Q=function(t){var e,n=t.children,r=Object(l.h)(),c=Object(p.a)(),i=Object(a.useState)(window.innerWidth>c.breakpoints.values.md),j=Object(s.a)(i,2),b=j[0],d=j[1],O=function(){d(!b)},x=Array.from(K.entries()).find((function(t){return!!Object(s.a)(t,2)[1].find((function(t){return r.pathname.includes(t.path)}))})),w=x&&"".concat(x[0].label," ").concat(null===(e=x[1].find((function(t){return r.pathname.includes(t.path)})))||void 0===e?void 0:e.text);return Object(U.jsx)(u.a,{theme:q,children:Object(U.jsxs)(f.a,{sx:{display:"flex"},children:[Object(U.jsx)(o.a,{}),Object(U.jsx)(A,{position:"absolute",open:b,drawerWidth:240,children:Object(U.jsx)(m.a,{variant:"dense",sx:{justifyContent:"space-between"},children:Object(U.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(U.jsx)(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:O,sx:Object(h.a)({marginRight:"24px"},b&&{display:"none"}),children:Object(U.jsx)(S.a,{})}),Object(U.jsx)(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,children:w})]})})}),Object(U.jsxs)(R,{variant:"permanent",open:b,drawerWidth:240,children:[Object(U.jsx)(m.a,{variant:"dense",sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(U.jsx)(v.a,{onClick:O,children:Object(U.jsx)(I.a,{})})}),Object(U.jsx)(g.a,{}),Object(U.jsx)(H,{})]}),b&&Object(U.jsx)(X,{onClick:O}),Object(U.jsxs)(J,{children:[Object(U.jsx)(m.a,{sx:{flex:"0 1 auto"}}),Object(U.jsx)(Y,{children:n})]})]})})},V=n(316),Z=n(601),$=n(312),tt=n(602),et=n(579),nt=n(585),at=n(574),rt=n(583),ct=n(575),it=n(580),ot=n(568),st=n(569),ut=n(573),jt=n(310),lt=n(311),bt=n(131),dt=n(317),ht=["auto","auto"],Ot=function(t){var e=t.series,n=t.onBarClick;return Object(U.jsx)(ot.a,{children:Object(U.jsxs)(st.a,{data:e,margin:{left:0,top:20,right:20,bottom:0},children:[Object(U.jsx)(ut.a,{strokeDasharray:"3 3"}),Object(U.jsx)(jt.a,{dataKey:"cost",domain:ht}),Object(U.jsx)(lt.a,{domain:["auto","auto"]}),Object(U.jsx)(bt.a,{}),Object(U.jsx)(dt.a,{dataKey:"rarity",fill:"#8884d8",onClick:n})]})})},xt=n(599),pt=function(){return Object(U.jsx)(f.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(U.jsx)(xt.a,{})})},ft=n(220),mt=n.n(ft),yt=n(221),gt=n.n(yt),vt=function(t,e,n){return fetch("https://api.x.immutable.com/v1/assets/".concat(t,"/").concat(e,"?").concat(new URLSearchParams(mt()(gt.a,n)).toString())).then((function(t){return t.json()}))},wt=function(t){var e=t.collectionStats,n=t.coefCalculator,r=Object(a.useState)(50),c=Object(s.a)(r,2),i=c[0],o=c[1],u=Object(a.useState)(10),j=Object(s.a)(u,2),l=j[0],b=j[1],d=Object(a.useState)([]),h=Object(s.a)(d,2),O=h[0],x=h[1],p=Object(a.useState)(),m=Object(s.a)(p,2),y=m[0],g=m[1],v=Object(a.useState)(),w=Object(s.a)(v,2),k=w[0],S=w[1],C=Object(a.useState)(!1),I=Object(s.a)(C,2),_=I[0],A=I[1];Object(a.useEffect)((function(){A(!0);var t,a=Object(V.a)((t={include_fees:"true",status:"active",sell_token_address:e.tokenAddress,buy_token_type:"ETH",cursor:y,page_size:String(l),order_by:"buy_quantity",direction:"asc"},fetch("https://api.x.immutable.com/v1/orders?".concat(new URLSearchParams(mt()(gt.a,t)).toString())).then((function(t){return t.json()})))).pipe(Object(Z.a)((function(t){S(t.cursor)})),Object($.a)((function(t){return t.result})),Object(tt.a)((function(t){return Object(V.a)(t)}))).pipe(Object($.a)((function(t){return Object(V.a)(vt(t.sell.data.token_address,t.sell.data.id,{include_fees:"true"})).pipe(Object($.a)(n(t,e)))})),Object(et.a)(),Object(nt.a)(1),Object(at.a)((function(){return A(!1)}))).subscribe((function(t){return x((function(e){return e.concat(t)}))}));return function(){return null===a||void 0===a?void 0:a.unsubscribe()}}),[y,e]);var z=Object(a.useMemo)((function(){return O.sort((function(t,e){return e.rarity-t.rarity})).slice(0,i)}),[O,i]);return O.length?Object(U.jsxs)(f.a,{height:"100%",width:"100%",display:"flex",flexDirection:"column",children:[Object(U.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(U.jsx)(ct.a,{id:"outlined-number",label:"Fetch at once",type:"number",onChange:function(t){var e=Number(t.target.value);!isNaN(e)&&e>0&&b(e)},value:l,sx:{marginRight:"16px"},size:"small"}),Object(U.jsx)(it.a,{getAriaLabel:function(){return"Coef Range"},value:i,max:50,onChange:function(t,e){return!Array.isArray(e)&&o(e)},valueLabelDisplay:"auto"}),Object(U.jsx)(rt.a,{sx:{marginLeft:"16px"},variant:"contained",onClick:function(){return g(k)},children:_?"Loading...":"Next"})]}),Object(U.jsx)(Ot,{series:z,onBarClick:function(t){window.open(e.getTokenUrl(t),"_blank")}})]}):Object(U.jsx)(pt,{})},kt=n(69),St=n(313),Ct=function(t,e){return Object(kt.flow)(kt.keys,Object(kt.flow)(Object(kt.map)((function(t){return[e.tokenProperties[t],t]})),Object(kt.filter)((function(t){var e=Object(s.a)(t,1)[0];return!Object(St.isUndefined)(e)})),Object(kt.map)((function(e){var n=Object(s.a)(e,2),a=n[0],r=n[1];return a[t[r]].rarity})),Object(kt.map)(parseFloat)))(t)},It=function(t){return Number(t.buy.data.quantity)/Math.pow(10,t.buy.data.decimals)},_t=function(t,e){return 100-Object(kt.sum)(Ct(t,e))},At=function(t,e){return function(n){var a=It(t),r=Object(kt.sum)(Ct(n.metadata,e));return{cost:a,imxId:t.order_id,rarity:1e3*a/r}}},zt=function(t){return Object(U.jsx)(wt,Object(h.a)(Object(h.a)({},t),{},{coefCalculator:At}))},Rt=function(t){var e=t.collectionStats,n=Object(a.useState)(),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),j=u[0],l=u[1];return Object(a.useEffect)((function(){j&&vt(e.tokenAddress,j,{include_fees:"true"}).then(i)}),[j,e]),c?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("h1",{children:"Your rarity is ".concat(_t(c.metadata,e))}),Object(U.jsx)(rt.a,{onClick:function(){i(void 0),l("")},children:"Reset"})]}):Object(U.jsx)(ct.a,{value:j,onChange:function(t){var e=String(t.target.value);66===e.length&&l(e)},label:"Token address"})},Wt=function(t,e){return"/".concat(t,"/").concat(e)},Bt=new Map([["bookgames",{tokenAddress:"0xac98d8d1bb27a94e79fbf49198210240688bb1ed",tokenCount:124960,getTokenUrl:function(t){return"https://tokentrove.com/collection/BookGames/imx-".concat(t.imxId)},tokenProperties:{Attribute:{Accountability:{count:12100,rarity:"9.68"},Tenacity:{count:6608,rarity:"5.29"},Curiosity:{count:13022,rarity:"10.42"},Patience:{count:12563,rarity:"10.05"},Humility:{count:12099,rarity:"9.68"},Special:{count:970,rarity:"0.78"},"Self-awareness":{count:11983,rarity:"9.59"},Optimism:{count:12561,rarity:"10.05"},"Kind Candor":{count:7724,rarity:"6.18"},Kindness:{count:8340,rarity:"6.67"},Ambition:{count:7684,rarity:"6.15"},Empathy:{count:16517,rarity:"13.22"},Conviction:{count:1395,rarity:"1.12"},Gratitude:{count:1394,rarity:"1.12"}},Spectacular:{Lava:{count:41517,rarity:"33.22"},Diamond:{count:20251,rarity:"16.21"},Gold:{count:24390,rarity:"19.52"},"Bubble Gum":{count:28956,rarity:"23.17"},Hologram:{count:9846,rarity:"7.88"}},"Token Frame":{Marble:{count:10394,rarity:"8.32"},Pearl:{count:2599,rarity:"2.08"},Black:{count:11696,rarity:"9.36"},Clear:{count:13972,rarity:"11.18"},Granite:{count:8775,rarity:"7.02"},Emerald:{count:3249,rarity:"2.60"},Gold:{count:12995,rarity:"10.40"},Caviar:{count:6498,rarity:"5.20"},Rainbow:{count:4875,rarity:"3.90"},Silver:{count:16243,rarity:"13.00"},Champagne:{count:650,rarity:"0.52"},Fur:{count:8123,rarity:"6.50"},Wood:{count:17095,rarity:"13.68"},Galaxy:{count:5846,rarity:"4.68"},Neon:{count:1950,rarity:"1.56"}}}}]]),Ft=function(){return Object(U.jsx)(j.a,{basename:"/imxhunter",children:Object(U.jsx)(u.a,{theme:d,children:Object(U.jsx)(Q,{children:Object(U.jsxs)(l.d,{children:[Object(U.jsx)(l.b,{exact:!0,path:"/:collection?",children:Object(U.jsx)(l.a,{to:Wt("bookgames","priceToRarity")})}),Array.from(Bt.entries()).map((function(t){var e=Object(s.a)(t,2),n=e[0],a=e[1];return Object(U.jsxs)(r.a.Fragment,{children:[Object(U.jsx)(l.b,{exact:!0,path:Wt(n,"priceToRarity"),children:Object(U.jsx)(zt,{collectionStats:a})}),Object(U.jsx)(l.b,{exact:!0,path:Wt(n,"calculator"),children:Object(U.jsx)(Rt,{collectionStats:a})})]},n)}))]})})})})};i.a.render(Object(U.jsxs)(r.a.StrictMode,{children:[Object(U.jsx)(o.a,{}),Object(U.jsx)(Ft,{})]}),document.getElementById("root"))}},[[514,1,2]]]);
//# sourceMappingURL=main.40adddbd.chunk.js.map