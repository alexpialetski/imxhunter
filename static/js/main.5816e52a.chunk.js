(this.webpackJsonpimxhunter=this.webpackJsonpimxhunter||[]).push([[0],{515:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(56),i=n.n(c),o=n(568),s=n(11),u=n(585),j=n(149),b=n(32),l=n(315),d=Object(l.a)({}),O=n(52),h=n(7),x=n(6),p=n(48),f=n(597),m=n(598),y=n(594),g=n(595),v=n(599),w=n(596),k=n(295),S=n.n(k),C=n(296),I=n.n(C),R=n(587),_=Object(x.a)(R.a,{shouldForwardProp:function(t){return"open"!==t&&"drawerWidth"!==t}})((function(t){var e=t.theme,n=t.open,a=t.drawerWidth;return Object(O.a)({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},n&&{marginLeft:a,width:"calc(100% - ".concat(a,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})})})),A=n(583),z=Object(x.a)(A.a,{shouldForwardProp:function(t){return"open"!==t&&"drawerWidth"!==t}})((function(t){var e,n=t.theme,a=t.open,r=t.drawerWidth;return{zIndex:n.zIndex.drawer,"& .MuiDrawer-paper":Object(O.a)((e={position:"relative",whiteSpace:"nowrap",width:r,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})},Object(h.a)(e,n.breakpoints.down("sm"),{position:"absolute",height:"100%",zIndex:n.zIndex.appBar}),Object(h.a)(e,"boxSizing","border-box"),e),!a&&Object(h.a)({overflowX:"hidden",transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),width:n.spacing(7)},n.breakpoints.up("sm"),{width:n.spacing(9)}))}})),T=Object(x.a)("div")((function(t){return{zIndex:t.theme.zIndex.drawer-1,width:"100vw",height:"100vh",position:"fixed",backgroundColor:"black",animation:"fadeIn 500ms ease",opacity:.2,"@keyframes fadeIn":{from:{opacity:0},to:{opacity:.2}}}})),W=n(589),B=n(591),F=n(592),G=n(593),L=n(291),P=n.n(L),M=n(292),D=n.n(M),E=n(293),N=n.n(E),U=n(590),K=n.p+"static/media/bg.21ea966e.png",H=n(2),q=new Map([[{collection:"bookgames",label:"Book games",Icon:Object(H.jsx)("img",{src:K,width:"32",alt:"Book games"})},[{path:"/bookgames/rarity",text:"Order Rarity",Icon:Object(H.jsx)(P.a,{})},{path:"/bookgames/priceToRarity",text:"Rarity To Price",Icon:Object(H.jsx)(D.a,{})},{path:"/bookgames/calculator",text:"Rarity calculator",Icon:Object(H.jsx)(N.a,{})}]]]),J=function(){var t=Object(b.g)(),e=Object(b.h)(),n=Object(a.useCallback)((function(e){return function(){t.push(e)}}),[t]),c=function(t){return e.pathname.includes(t)};return Object(H.jsx)(W.a,{children:Array.from(q.entries()).map((function(t){var e=Object(s.a)(t,2),a=e[0],i=e[1];return Object(H.jsxs)(r.a.Fragment,{children:[Object(H.jsx)(U.a,{children:a.Icon}),i.map((function(t){var e=t.Icon,a=t.text,r=t.path;return Object(H.jsxs)(B.a,{onClick:n(r),selected:c(r),children:[Object(H.jsx)(F.a,{children:e}),Object(H.jsx)(G.a,{primary:a})]},r)})),Object(H.jsx)(g.a,{})]},a.collection)}))})},X=Object(l.a)(),Y=Object(x.a)("main")((function(t){var e=t.theme;return Object(h.a)({backgroundColor:"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto",display:"flex",flexDirection:"column"},e.breakpoints.down("sm"),{marginLeft:e.spacing(7),width:"calc(100% - ".concat(e.spacing(7),"px)")})})),Q=Object(x.a)(T)((function(t){var e=t.theme;return Object(h.a)({},e.breakpoints.up("sm"),{display:"none"})})),V=Object(x.a)(w.a)((function(){return{flexGrow:1,padding:"16px !important",maxWidth:"none !important"}})),Z=function(t){var e,n=t.children,r=Object(b.h)(),c=Object(p.a)(),i=Object(a.useState)(window.innerWidth>c.breakpoints.values.md),j=Object(s.a)(i,2),l=j[0],d=j[1],h=function(){d(!l)},x=Array.from(q.entries()).find((function(t){return!!Object(s.a)(t,2)[1].find((function(t){return r.pathname.includes(t.path)}))})),w=x&&"".concat(x[0].label," ").concat(null===(e=x[1].find((function(t){return r.pathname.includes(t.path)})))||void 0===e?void 0:e.text);return Object(H.jsx)(u.a,{theme:X,children:Object(H.jsxs)(f.a,{sx:{display:"flex"},children:[Object(H.jsx)(o.a,{}),Object(H.jsx)(_,{position:"absolute",open:l,drawerWidth:240,children:Object(H.jsx)(m.a,{variant:"dense",sx:{justifyContent:"space-between"},children:Object(H.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(H.jsx)(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:h,sx:Object(O.a)({marginRight:"24px"},l&&{display:"none"}),children:Object(H.jsx)(S.a,{})}),Object(H.jsx)(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,children:w})]})})}),Object(H.jsxs)(z,{variant:"permanent",open:l,drawerWidth:240,children:[Object(H.jsx)(m.a,{variant:"dense",sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(H.jsx)(v.a,{onClick:h,children:Object(H.jsx)(I.a,{})})}),Object(H.jsx)(g.a,{}),Object(H.jsx)(J,{})]}),l&&Object(H.jsx)(Q,{onClick:h}),Object(H.jsxs)(Y,{children:[Object(H.jsx)(m.a,{sx:{flex:"0 1 auto"}}),Object(H.jsx)(V,{children:n})]})]})})},$=n(317),tt=n(602),et=n(313),nt=n(603),at=n(580),rt=n(586),ct=n(575),it=n(584),ot=n(576),st=n(581),ut=n(569),jt=n(570),bt=n(574),lt=n(311),dt=n(312),Ot=n(132),ht=n(318),xt=["auto","auto"],pt=function(t){var e=t.series,n=t.onBarClick;return Object(H.jsx)(ut.a,{children:Object(H.jsxs)(jt.a,{data:e,margin:{left:0,top:20,right:20,bottom:0},children:[Object(H.jsx)(bt.a,{strokeDasharray:"3 3"}),Object(H.jsx)(lt.a,{dataKey:"cost",domain:xt}),Object(H.jsx)(dt.a,{domain:["auto","auto"]}),Object(H.jsx)(Ot.a,{}),Object(H.jsx)(ht.a,{dataKey:"rarity",fill:"#8884d8",onClick:n})]})})},ft=n(600),mt=function(){return Object(H.jsx)(f.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(H.jsx)(ft.a,{})})},yt=n(220),gt=n.n(yt),vt=n(221),wt=n.n(vt),kt=function(t,e,n){return fetch("https://api.x.immutable.com/v1/assets/".concat(t,"/").concat(e,"?").concat(new URLSearchParams(gt()(wt.a,n)).toString())).then((function(t){return t.json()}))},St=function(t){var e=t.collectionStats,n=t.coefCalculator,r=t.maxRange,c=void 0===r?100:r,i=Object(a.useState)([0,c]),o=Object(s.a)(i,2),u=o[0],j=o[1],b=Object(a.useState)(2),l=Object(s.a)(b,2),d=l[0],O=l[1],h=Object(a.useState)([]),x=Object(s.a)(h,2),p=x[0],m=x[1],y=Object(a.useState)(),g=Object(s.a)(y,2),v=g[0],w=g[1],k=Object(a.useState)(),S=Object(s.a)(k,2),C=S[0],I=S[1],R=Object(a.useState)(!1),_=Object(s.a)(R,2),A=_[0],z=_[1];Object(a.useEffect)((function(){z(!0);var t,a=Object($.a)((t={include_fees:"true",status:"active",sell_token_address:e.tokenAddress,buy_token_type:"ETH",cursor:v,page_size:String(d),order_by:"buy_quantity",direction:"asc"},fetch("https://api.x.immutable.com/v1/orders?".concat(new URLSearchParams(gt()(wt.a,t)).toString())).then((function(t){return t.json()})))).pipe(Object(tt.a)((function(t){I(t.cursor)})),Object(et.a)((function(t){return t.result})),Object(nt.a)((function(t){return Object($.a)(t)}))).pipe(Object(et.a)((function(t){return Object($.a)(kt(t.sell.data.token_address,t.sell.data.id,{include_fees:"true"})).pipe(Object(et.a)(n(t,e)))})),Object(at.a)(),Object(rt.a)(1),Object(ct.a)((function(){return z(!1)}))).subscribe((function(t){return m((function(e){return e.concat(t)}))}));return function(){return null===a||void 0===a?void 0:a.unsubscribe()}}),[v,e]);var T=Object(a.useMemo)((function(){return p.filter((function(t){return t.rarity<u[1]&&t.rarity>u[0]}))}),[p,u]);return p.length?Object(H.jsxs)(f.a,{height:"100%",width:"100%",display:"flex",flexDirection:"column",children:[Object(H.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(H.jsx)(ot.a,{id:"outlined-number",label:"Fetch at once",type:"number",onChange:function(t){var e=Number(t.target.value);!isNaN(e)&&e>0&&O(e)},value:d,sx:{marginRight:"16px"},size:"small"}),Object(H.jsx)(st.a,{getAriaLabel:function(){return"Coef Range"},value:u,max:c,onChange:function(t,e){return Array.isArray(e)&&j(e)},valueLabelDisplay:"auto"}),Object(H.jsx)(it.a,{sx:{marginLeft:"16px"},variant:"contained",onClick:function(){return w(C)},children:A?"Loading...":"Next"})]}),Object(H.jsx)(pt,{series:T,onBarClick:function(t){window.open(e.getTokenUrl(t),"_blank")}})]}):Object(H.jsx)(mt,{})},Ct=n(70),It=n(314),Rt=function(t,e){return Object(Ct.flow)(Ct.keys,Object(Ct.flow)(Object(Ct.map)((function(t){return[e.tokenProperties[t],t]})),Object(Ct.filter)((function(t){var e=Object(s.a)(t,1)[0];return!Object(It.isUndefined)(e)})),Object(Ct.map)((function(e){var n=Object(s.a)(e,2),a=n[0],r=n[1];return a[t[r]].rarity})),Object(Ct.map)(parseFloat)))(t)},_t=function(t){return Number(t.buy.data.quantity)/Math.pow(10,t.buy.data.decimals)},At=function(t,e){return 100-Object(Ct.sum)(Rt(t,e))},zt=function(t,e){return function(n){return{cost:_t(t),imxId:t.order_id,rarity:At(n.metadata,e)}}},Tt=function(t,e){return function(n){var a=_t(t),r=Object(Ct.sum)(Rt(n.metadata,e));return{cost:a,imxId:t.order_id,rarity:1e3*a/r}}},Wt=function(t){return Object(H.jsx)(St,Object(O.a)(Object(O.a)({},t),{},{maxRange:100,coefCalculator:zt}))},Bt=function(t){return Object(H.jsx)(St,Object(O.a)(Object(O.a)({},t),{},{maxRange:100,coefCalculator:Tt}))},Ft=function(t){var e=t.collectionStats,n=Object(a.useState)(),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),j=u[0],b=u[1];return Object(a.useEffect)((function(){j&&kt(e.tokenAddress,j,{include_fees:"true"}).then(i)}),[j,e]),c?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("h1",{children:"Your rarity is ".concat(At(c.metadata,e))}),Object(H.jsx)(it.a,{onClick:function(){i(void 0),b("")},children:"Reset"})]}):Object(H.jsx)(ot.a,{value:j,onChange:function(t){var e=String(t.target.value);66===e.length&&b(e)},label:"Token address"})},Gt=function(t,e){return"/".concat(t,"/").concat(e)},Lt=new Map([["bookgames",{tokenAddress:"0xac98d8d1bb27a94e79fbf49198210240688bb1ed",tokenCount:124960,getTokenUrl:function(t){return"https://tokentrove.com/collection/BookGames/imx-".concat(t.imxId)},tokenProperties:{Attribute:{Accountability:{count:12100,rarity:"9.68"},Tenacity:{count:6608,rarity:"5.29"},Curiosity:{count:13022,rarity:"10.42"},Patience:{count:12563,rarity:"10.05"},Humility:{count:12099,rarity:"9.68"},Special:{count:970,rarity:"0.78"},"Self-awareness":{count:11983,rarity:"9.59"},Optimism:{count:12561,rarity:"10.05"},"Kind Candor":{count:7724,rarity:"6.18"},Kindness:{count:8340,rarity:"6.67"},Ambition:{count:7684,rarity:"6.15"},Empathy:{count:16517,rarity:"13.22"},Conviction:{count:1395,rarity:"1.12"},Gratitude:{count:1394,rarity:"1.12"}},Spectacular:{Lava:{count:41517,rarity:"33.22"},Diamond:{count:20251,rarity:"16.21"},Gold:{count:24390,rarity:"19.52"},"Bubble Gum":{count:28956,rarity:"23.17"},Hologram:{count:9846,rarity:"7.88"}},"Token Frame":{Marble:{count:10394,rarity:"8.32"},Pearl:{count:2599,rarity:"2.08"},Black:{count:11696,rarity:"9.36"},Clear:{count:13972,rarity:"11.18"},Granite:{count:8775,rarity:"7.02"},Emerald:{count:3249,rarity:"2.60"},Gold:{count:12995,rarity:"10.40"},Caviar:{count:6498,rarity:"5.20"},Rainbow:{count:4875,rarity:"3.90"},Silver:{count:16243,rarity:"13.00"},Champagne:{count:650,rarity:"0.52"},Fur:{count:8123,rarity:"6.50"},Wood:{count:17095,rarity:"13.68"},Galaxy:{count:5846,rarity:"4.68"},Neon:{count:1950,rarity:"1.56"}}}}]]),Pt=function(){return Object(H.jsx)(j.a,{basename:"/imxhunter",children:Object(H.jsx)(u.a,{theme:d,children:Object(H.jsx)(Z,{children:Object(H.jsxs)(b.d,{children:[Object(H.jsx)(b.b,{exact:!0,path:"/:collection?",children:Object(H.jsx)(b.a,{to:Gt("bookgames","priceToRarity")})}),Array.from(Lt.entries()).map((function(t){var e=Object(s.a)(t,2),n=e[0],a=e[1];return Object(H.jsxs)(r.a.Fragment,{children:[Object(H.jsx)(b.b,{exact:!0,path:Gt(n,"rarity"),children:Object(H.jsx)(Wt,{collectionStats:a})}),Object(H.jsx)(b.b,{exact:!0,path:Gt(n,"priceToRarity"),children:Object(H.jsx)(Bt,{collectionStats:a})}),Object(H.jsx)(b.b,{exact:!0,path:Gt(n,"calculator"),children:Object(H.jsx)(Ft,{collectionStats:a})})]},n)}))]})})})})};i.a.render(Object(H.jsxs)(r.a.StrictMode,{children:[Object(H.jsx)(o.a,{}),Object(H.jsx)(Pt,{})]}),document.getElementById("root"))}},[[515,1,2]]]);
//# sourceMappingURL=main.5816e52a.chunk.js.map